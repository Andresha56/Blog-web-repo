<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  {% load static %}
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="{% static 'css/style.css' %}">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <title>{% block title %}{% endblock title %}</title>
  {% comment %} google font {% endcomment %}
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Dongle:wght@300&display=swap" rel="stylesheet">
  {% comment %} bootstrap icon link {% endcomment %}
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.0/font/bootstrap-icons.css">

</head>

<body>
  <style>
    .navbar {
      height: 50px;
    }

      {
      % comment %
    }

    signup & signin {
      % endcomment %
    }

    #signup {
      margin: 0 10px;
    }

    .modal-header {
      padding: 0.5rem 1rem !important;

    }

    .modal-content {
      width: 90% !important;
    }

    .form-label {
      margin-bottom: 0.2rem;
    }

    {% comment %} error_message {% endcomment %}

    .error_msg{
      color:red;
      {% comment %} text-align:center; {% endcomment %}
    }
  </style>
  <div class="main_container m-1">
    {% comment %} ---------nav_bar--------- {% endcomment %}
    <nav class="navbar navbar-expand-lg navbar-dark  p-2 bg-dark">
      <div class="container-fluid">
        <a class="navbar-brand" href="#">Blogger</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link {% block homeactive %}{% endblock homeactive %}" aria-current="page" href="/">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link {% block aboutactive %}{% endblock aboutactive %}" href="/about">About</a>
            </li>
            <li class="nav-item">
              <a class="nav-link {% block contactactive %}{% endblock contactactive %} " href="/contact">Contact</a>
            </li>
            <li class="nav-item ">
              <a class="nav-link {% block blogactive %}{% endblock blogactive %} " href="/blog">blog</a>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown"
                aria-expanded="false">
                Dropdown
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                <li><a class="dropdown-item" href="#">Action</a></li>
                <li><a class="dropdown-item" href="#">Another action</a></li>
                <li>
                  <hr class="dropdown-divider">
                </li>
                <li><a class="dropdown-item" href="#">Something else here</a></li>
              </ul>
            </li>
          </ul>
          <form class="d-flex" method='get' action='/search'>
            <input class="form-control me-2" type="search" name='query' placeholder="Search" aria-label="Search">
            <button class="btn btn-sm btn-outline-success" type="submit">Search</button>
          </form>

          {% comment %} sign_up_modal and login modal{% endcomment %}

              <!--signup Button trigger modal -->
        <button type="button" class=" p-2 btn btn-sm btn-outline-warning m-1" data-bs-toggle="modal" data-bs-target="#Signup">
            signup
        </button>
              <!--signin Button trigger modal -->
        <button type="button" class=" p-2 btn btn-sm btn-outline-warning m-1" data-bs-toggle="modal" data-bs-target="#Signin">
          signin
      </button>

  <!--  Signup Modal -->
      <div class="modal fade" id="Signup" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">

            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Sign up</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>

            <div class="modal-body">

              <form action="signup" method='POST' onsubmit="return validationForm()" novalidate>
                {% csrf_token %}

                <div class="mb-3">
                  <label for="username" class="form-label">Username</label>
                  <input type="text" name="username" placeholder="Please choose a unique username "class="form-control" id="username">

                  <p>
                    <div class="error_msg" id="usererror"></div>
                  </p>

                </div>

                <div class="mb-3">
                  <label for="email" class="form-label">Email address</label>
                  <input type="email" name="email"  placeholder="example@gmail.com"  class="form-control" id="email" aria-describedby="emailHelp">

                  <p>
                    <div class="error_msg" id="email_error"></div>
                  </p>

                </div>

                <div class="mb-3">
                  <label for="passwords" class="form-label">Password</label>
                  <input type="password"  name="password"  class="form-control" id="passwords">

                  <p>
                    <div class="error_msg" id="pass_error"></div>
                  </p>

                </div>

                <div class="mb-3">
                  <label for="repassword" class="form-label">Reenter Password</label>
                  <input type="password" name="re_password" class="form-control" id="repassword" >

                  <p>
                    <div class="error_msg" id="re_pass_error"></div>
                  </p>

                </div>

                <div class="mb-3 form-check">
                  <input type="checkbox" class="form-check-input" id="exampleCheck1">
                  <label class="form-check-label" for="exampleCheck1">Check me out</label>
                </div>

                <button type="submit" class="btn btn-primary">Submit</button>
              </form>

            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>  

      <!-- signin Modal -->
        <div class="modal fade" id="Signin" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">

                {% comment %} username {% endcomment %}

              <form action="signin" method='POST' onsubmit="return validationForm()">
                  {% csrf_token %}
                <div class="mb-3">
                  <label for="checkusername" class="form-label">Username</label>
                  <input type="text" name="checkuser" class="form-control" id="checkuser" >
                  <p>
                    <div class="error_msg" id="check_user"></div>
                  </p>

                </div>

                {% comment %} checkpassward {% endcomment %}
                <div class="mb-3">
                  <label for="checkpassward" class="form-label">Password</label>
                  <input type="password" name="checkpass" class="form-control" id="checkpassward" >
                  <p>
                    <div class="error_msg" id="check_pass_error"></div>
                  </p>

                </div>


                <button type="submit" class="btn btn-primary">Submit</button>


              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
              </div>

            </div>
          </form>

          </div>
        </div>  

        </div>
      </div>
  </div>
  </nav>

  <script>
    let userName=document.getElementById('username');

    let email=document.getElementById('email');

    let password=document.getElementById("passwords");

    let Re_password=document.getElementById("repassword");

    flag=1;
      function validationForm(){
          {% comment %} username {% endcomment %}

            if(userName.value==""){
              document.getElementById("usererror").innerHTML='username required !';
              flag=0;
            }else if(username.value.length <5){
              document.getElementById("usererror").innerHTML='username must be 5 digit or more ..'; 
              flag=0;
            }else{
              document.getElementById("usererror").innerHTML='';
              flag=1;
            }

          {% comment %} email {% endcomment %}
            
          if (email.value==""){
            document.getElementById("email_error").innerHTML='email required !';
            flag=0;
          }else{
            document.getElementById("email_error").innerHTML="";
            flag=1;
          }

          {% comment %} passwoprd {% endcomment %}

          if(password.value==""){
            document.getElementById("pass_error").innerHTML="passwoprd required";
            flag=0;
          }else if(password.value.length<7){
            document.getElementById("pass_error").innerHTML="passwoprd must be 7 digit long..." ;
            flag=0;
          }

          {% comment %} re_password {% endcomment %}

          if(Re_password.value!==password.value){
            document.getElementById("re_pass_error").innerHTML="passwoprd does not match..." ;
            flag=0;
          }else{
            document.getElementById("re_pass_error").innerHTML=""; 
            flag=1;
          }
        if(flag){
          return true;
        }
          else{
            return false;
          }
      }

      {% comment %} check user {% endcomment %}
      let check_userr=document.getElementById("checkuser")
      let check_pass=document.getElementById("checkpassward")  

  </script>
  {% comment %} end_sign_up_Modal {% endcomment %}

  {% comment %} endnavnar {% endcomment %}

  <h1>{% block heading %}{% endblock heading %}</h1>
  {% block body %}{% endblock body %}

  {% block footer %}{% endblock footer %}
  <!-- Option 1: Bootstrap Bundle with Popper -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
    crossorigin="anonymous"></script>



</body>

</html>